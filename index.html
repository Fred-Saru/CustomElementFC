<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>My app</title>

  <!-- Web component polyfill (only loads what it needs) -->
  <script src="./@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
  <script src="./@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"></script>
</head>

<body>
  <div class="application-page">
    <div id="header">
      <fc-header></fc-header>
    </div>
    <div class="application-main">
      <div id="menu">
        <fc-menu></fc-menu>
      </div>
      <div class="application-content" id="app">

      </div>
    </div>
  </div>
  <fc-shutter></fc-shutter>

  <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
  <script>
    var fcSettings = {
      appKey: "formula",
      user: {
        roles: ["CFL_USER"]
      }
    }

    var menuLinks = [
      {
        clickable: true,
        label: "Recherche",
        target: "self",
        url: "#recherche",
        children: [
          {
            label: "Mes formules",
            target: "self",
            url: "#MyFormula",
          },
          {
            label: "Les formules de mon laboratoire",
            target: "self",
            url: "#MyLab",
          }
        ]
      },
      {
        clickable: true,
        label: "Création de formule",
        target: "self",
        url: "#Create",
      },
      {
        label: "Assistant",
        children: [
          {
            label: "Panier",
            target: "self",
            url: "#Panier",
          },
          {
            label: "Comparateur",
            target: "self",
            url: "#Comparateur",
          },
          {
            label: "Rechercher autorisation",
            target: "self",
            url: "#AuthSearch",
          },
          {
            label: "Autorisation de sécurité MP",
            target: "self",
            url: "#AuthSecu",
          },
          {
            label: "Impact croissance microbienne",
            target: "self",
            url: "#Microbe",
          }
        ]
      }
    ]

    document.querySelector('fc-menu').links = menuLinks;

    var currentContext = [
      {
        key: "formula",
        menu: {
          label: {
            def: "Formula"
          },
          icon: "fla",
          url: "http://localhost:8081/#formula",
          order: 1
        },
        title: {
          label: {
            def: "Formula"
          },
          icon: "fla",
          url: "http://localhost:8081/#formula"
        },
        quicksearch: {
          label: {
            def: "Formula"
          },
          exactSearch: {
            url: "http://localhost:8081/{term}#exactSearchFormula",
            formattingOptions: {
              trim: true,
              characterCasing: "upper"
            },
            placeholder: {
              en: 'Exact formula code',
              fr: 'Code formule exact'
            }
          },
          freeSearch: {
            url: "http://localhost:8081/{term}#freeSearchFormula",
            placeholder: {
              en: 'Partial formula code',
              fr: 'Code formule partiel'
            }
          }
        }
      },
      {
        key: "rm",
        quicksearch: {
          label: {
            en: "RM",
            fr: "FR"
          },
          exactSearch: {
            url: "http://localhost:8081/{term}#exactSearchRM",
            placeholder: {
              en: 'Exact rm code',
              fr: 'Code mp exact'
            }
          },
          freeSearch: {
            url: "http://localhost:8081/{term}#freeSearchRM",
            placeholder: {
              en: 'Partial rm code',
              fr: 'Code mp partiel'
            }
          }
        },
        menu: {
          label: {
            en: "RM",
            fr: "MP"
          },
          icon: "mp",
          url: "http://localhost:8081/#mp",
          order: 2
        },
      },
      {
        key: "socle",
        quicksearch: {
          label: {
            def: "Socle"
          },
          exactSearch: {
            url: "http://localhost:8081/{term}#exactSearchSocle",
            placeholder: {
              en: 'Exact socle code',
              fr: 'Code socle exact'
            }
          },
          freeSearch: {
            url: "http://localhost:8081/{term}#freeSearchSocle",
            placeholder: {
              en: 'Partial socle code',
              fr: 'Code socle partiel'
            }
          }
        },
        menu: {
          label: {
            def: "Socle"
          },
          icon: "socle",
          url: "http://localhost:8081/#socle",
          order: 3
        },
      },
      {
        key: "techno",
        quicksearch: {
          label: {
            def: "Techno"
          },
          exactSearch: {
            url: "http://localhost:8081/{term}#exactSearchTechno",
            placeholder: {
              en: 'Exact techno code',
              fr: 'Code techno exact'
            }
          },
          freeSearch: {
            url: "http://localhost:8081/{term}#freeSearchTechno",
            placeholder: {
              en: 'Partial techno code',
              fr: 'Code techno partiel'
            }
          }
        },
        menu: {
          label: {
            def: "Techno"
          },
          icon: "techno",
          url: "http://localhost:8081/#techno",
          order: 4
        },
      }
    ]
  </script>
</body>

</html>